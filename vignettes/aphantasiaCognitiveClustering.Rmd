---
title: "aphantasiaCognitiveClustering"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{aphantasiaCognitiveClustering}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Overview

The main dataset used for the analyses is provided in the package as
`study_data`. It contains the data from the study in a tidy format, ready for
analysis.

```{r example}
library(aphantasiaCognitiveClustering)

head(study_data)
```

The main analyses can be roughly divided into three steps: modelling observed
scores with two groups, clustering the sample based on a selection of variables, 
and exploring these clusters in the light of their scores. These core steps are
taken care of by the following functions:

- `get_association_models()`: This function computes Bayes Factors for 
  association between the groups (aphantasia/control) and the `education`,
  `field`, and `occupation` variables in the dataset.
  
- `get_full_model_table()`: This function fits Bayesian models to the
  observed variables, predicting them with the two groups (aphantasia/control)
  and the age as a covariate. It returns a data frame summarising the model
  results for each variable.

- `correlate_vars()`: This function computes the correlation matrix of the
  observed variables, returning a data frame with the correlations and their
  significance levels. It allowed to identify the variables that were most
  relevant for clustering.
  
- `cluster_selected_vars()`: This function performs clustering on a 
  selection of variables, returning a data frame with the cluster assignments 
  for each participant. We can then reuse `get_association_models()` and
  `get_full_model_table()` to fit new models with these clusters.
  
Some transformations of the shape of the data are also required to prepare
them for certain steps, which are handled by other functions in the package.
Finally, a suite of functions is provided to visualise the results of the
analyses, such as `plot_score_violins()`, `plot_score_radars()`,
`plot_score_cor_matrix()`, etc.

See the [complete data analysis report](https://m-delem.github.io/aphantasiaCognitiveClustering/articles/analysis_report.html) 
this package was built for or the [reproducible manuscript](https://m-delem.github.io/aphantasiaCognitiveClustering/articles/analysis_report.html) it led to.
